users = await convert_objectids_list(users)

    total_number_of_documents_cursor =  user_collection.find(query)
    total_number_of_documents    = await total_number_of_documents_cursor.to_list()

    # print("total_records", len(total_number_of_documents))

    current_count = page * 10

    has_next = True if current_count < len(total_number_of_documents) else None

    has_pre = True if page > 1 else None

    return { "has_previous":has_pre , 
            "has_next" :has_next,
        "data" : users
        }


uvicorn app.main:app --reload --timeout-keep-alive 60









    # if logged_in_user is None:
    #     raise HTTPException(
    #         status_code=status.HTTP_404_NOT_FOUND,
    #         detail="User not found"
    #     )

    # if logged_in_user['role'] != "admin":
    #     raise HTTPException(
    #         status_code=status.HTTP_403_FORBIDDEN,
    #         detail="You don't have access to perform this action"
    #     )




    # if logged_in_user and logged_in_user['role'] == "admin":
    #     is_admin_user = True
